% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/readcapdata.R
\name{readcapdata}
\alias{readcapdata}
\title{Retrieve and Process Data from REDCap}
\usage{
readcapdata(
  token,
  url,
  fields = NULL,
  events = NULL,
  forms = NULL,
  drop_empty = FALSE,
  preprocess_data = FALSE,
  list_event_form = FALSE
)
}
\arguments{
\item{token}{A character string. The API token for REDCap project access.}

\item{url}{A character string. The REDCap API URL endpoint.}

\item{fields}{A vector or NULL. Specific fields to export. If NULL, all fields are exported.}

\item{events}{A vector or NULL. Specific events to export for longitudinal projects.}

\item{forms}{A vector or NULL. Specific forms to export.}

\item{drop_empty}{Logical. If TRUE, empty columns will be dropped. Defaults to `FALSE`.}

\item{preprocess_data}{Logical. If TRUE, processes data to include value labels and column attributes. Defaults to `FALSE`.}

\item{file_name}{A character string or NULL. If provided, saves the data to an RDS file. Include the extension .rds in the file_name}
}
\value{
A data frame containing the requested REDCap data. If `preprocess_data = TRUE`,
the returned data frame includes:
- Factor levels for single-select fields.
- Processed checkbox columns.
- Column labels as attributes.
- Special handling for event names and repeat instruments.
}
\description{
A function to retrieve and process data from REDCap (Research Electronic Data Capture) via its API.
This function supports both raw data export and preprocessed data with value labels and column attributes.
}
\details{
The function performs the following operations:
- Constructs API request parameters for REDCap data export.
- If `preprocess_data = TRUE`:
  - Downloads project dictionary.
  - Processes single-select fields.
  - Handles checkbox fields.
  - Adds value labels and column attributes.
- Supports both raw and processed data export formats.
- Can optionally save the exported data to a file.
}
\note{
- The function requires appropriate REDCap API permissions.
- Large exports may take significant time to process.
- When `preprocess_data = TRUE`, additional API calls are made to fetch the data dictionary.
- The function handles both longitudinal and non-longitudinal projects.
}
\examples{
\dontrun{
# Basic usage with raw data
data <- readcapdata(
    token = "YOUR_API_TOKEN",
    url = "YOUR_REDCAP_API_URL"
)

# Export with preprocessing and save to file
processed_data <- readcapdata(
    token = "YOUR_API_TOKEN",
    url = "YOUR_REDCAP_API_URL",
    preprocess_data = TRUE,
    drop_empty = TRUE,
    file_name = "my_redcap_export"
)

# Export specific fields
fields_data <- readcapdata(
    token = "YOUR_API_TOKEN",
    url = "YOUR_REDCAP_API_URL",
    fields = c("record_id", "age", "gender")
)
}

}
\references{
REDCap (Research Electronic Data Capture)
}
\author{
[Original author information should be added here]
}
